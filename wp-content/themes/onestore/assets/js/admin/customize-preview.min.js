!function(e){"use strict";e(window);var t=e(document),o=(e("body"),{postMessage_css:function(t,o,n){var a="onestore-customize-preview-css-"+t,s=e("#"+a),i="",r={};0===s.length&&((s=e(document.createElement("style"))).attr("id",a),s.attr("type","text/css"),s.appendTo(e("head"))),_.each(o,(function(e){var t,o=n;if(e.function&&e.function.name)switch(e.function.name){case"explode_value":if(void 0===e.function.args[0])break;var a=e.function.args[0];if(isNaN(a))break;var s=o.split(" ");o=void 0!==s[a]?s[a]:"";break;case"scale_dimensions":if(void 0===e.function.args[0])break;var i=e.function.args[0];if(isNaN(i))break;var c=o.split(" "),l=[];_.each(c,(function(e,t){var o=parseFloat(e),n=e.replace(o,"");l[t]=(o*i).toString()+n})),o=l.join(" ")}if(null!=e.element&&null!=e.property){if(e.media=e.media||"global",e.pattern=e.pattern||"$","object"==typeof o)if(void 0!==e.key&&void 0!==o[e.key])t=e.pattern.replace("$",o[e.key]);else{var u=[];_.each(o,(function(t,o){u.push(e.pattern.replace("$",t))})),t=u.join(" ")}else t=e.pattern.replace("$",o);null==r[e.media]&&(r[e.media]={}),null==r[e.media][e.element]&&(r[e.media][e.element]={}),r[e.media][e.element][e.property]=t}})),_.each(r,(function(e,t){"global"!==t&&(i+=t+"{"),_.each(e,(function(e,t){i+=t+"{",_.each(e,(function(e,t){i+=t+":"+e+";"})),i+="}"})),"global"!==t&&(i+="}")})),s.html(i)},postMessage_class:function(e,t,o){_.each(t,(function(e){var t=o;if("boolean"==typeof t&&(t=t?1:0),null!=e.element){e.pattern=e.pattern||"$";var n=document.querySelectorAll(e.element),a=new RegExp(e.pattern.replace("$","[\\w\\-]+"),"i"),s=e.pattern.replace("$",t);n.forEach((function(e){e.className.match(a)?e.className=e.className.replace(a,s):e.className+=" "+s}))}}))},postMessage_html:function(e,t,o){_.each(t,(function(e){var t=o;if(null!=e.element){e.pattern=e.pattern||"$";var n=document.querySelectorAll(e.element),a=e.pattern.replace("$",t);n.forEach((function(t){void 0!==e.property?t.setAttribute(e.property,a):t.innerHTML=a}))}}))},postMessage_font:function(t,n,a){var s="custom_fonts",i=a,r=a;if(-1<a.indexOf("|")){var c=a.split("|");2===c.length&&void 0!==onestoreCustomizerPreviewData.fonts[c[0]]&&(s=c[0],i=c[1],r=onestoreCustomizerPreviewData.fonts[s][i]||"")}if(o.postMessage_css(t,n,r),"google_fonts"===s){var l="onestore-customize-preview-google-fonts-css-"+t,u=e("#"+l);0===u.length&&((u=e(document.createElement("link"))).attr("id",l),u.attr("rel","stylesheet"),u.attr("href",""),u.attr("type","text/css"),u.attr("media","all"),u.appendTo(e("head")));var p="//fonts.googleapis.com/css?family="+i.replace(" ","+")+":100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&subset="+wp.customize("google_fonts_subsets").get().join(",");u.attr("href",p)}}});void 0!==onestoreCustomizerPreviewData&&void 0!==onestoreCustomizerPreviewData.postMessages&&(console.log("onestoreCustomizerPreviewData",onestoreCustomizerPreviewData),_.each(onestoreCustomizerPreviewData.postMessages,(function(e,n){var a={};_.each(e,(function(e){var t=e.type;null==a[t]&&(a[t]=[]),a[t].push(e)})),wp.customize(n,(function(e){e.bind((function(e){_.each(a,(function(t,a){var s="postMessage_".concat(a);try{o[s](n,t,e)}catch(t){console.log(`Error: functionName ${s} not exists.`,n,e)}})),t.trigger("onestore_customize_setting_changed",[n,e])}))}))}))),t.on("onestore_customize_setting_changed",(function(e,t,o){["woocommerce_single_gallery_width"].indexOf(t)}))}(jQuery);